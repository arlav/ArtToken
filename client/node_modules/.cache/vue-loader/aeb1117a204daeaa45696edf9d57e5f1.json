{"remainingRequest":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/arlav/Documents/GitHub/ArtToken/client/src/components/AddArtItem.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/src/components/AddArtItem.vue","mtime":1606592072100},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJlZiB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHBhcnNlRXRoZXIgfSBmcm9tICJldGhlcnMvbGliL3V0aWxzIjsKCmltcG9ydCB7IFVzZUlQRlNDbGllbnQgfSBmcm9tICJAL3BsdWdpbnMvaXBmc0h0dHBDbGllbnQiOwppbXBvcnQgeyBVc2VFdGhlcnMgfSBmcm9tICJAL3BsdWdpbnMvZXRoZXJzIjsKCmV4cG9ydCBkZWZhdWx0IHsKCXNldHVwKCkgewoJCWNvbnN0IGV0aGVycyA9IFVzZUV0aGVycygpOwoJCWNvbnN0IGlwZnMgPSBVc2VJUEZTQ2xpZW50KCk7CgoJCWNvbnN0IHByaWNlID0gcmVmKG51bGwpOwoJCWNvbnN0IGFydEl0ZW0gPSByZWYobnVsbCk7CgoJCWNvbnN0IG9uQXJ0U2VsZWN0aW9uID0gKCkgPT4gewoJCQlhcnRJdGVtLnZhbHVlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwoJCX07CgoJCWNvbnN0IGFkZEFydEl0ZW0gPSBhc3luYyAoKSA9PiB7CgkJCWNvbnN0IHsgcGF0aCB9ID0gYXdhaXQgaXBmcy5hZGQoYXJ0SXRlbS52YWx1ZSk7CgkJCWlmICghcGF0aCkgdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gYWRkIGFydCBpdGVtIHRvIElQRlMiKTsKCgkJCWNvbnN0IHRva2VuVVJJID0gYGh0dHBzOi8vaXBmcy5pby9pcGZzLyR7cGF0aH1gOwoJCQljb25zdCBwYXJzZWRQcmljZSA9IHBhcnNlRXRoZXIocHJpY2UudmFsdWUudG9TdHJpbmcoKSk7CgkJCWF3YWl0IGV0aGVycy5hZGRBcnRJdGVtKHBhcnNlZFByaWNlLCB0b2tlblVSSSk7CgoJCQkvLyBjbGVhciBpbnB1dAoJCQlwcmljZS52YWx1ZSA9IG51bGw7CgkJCWFydEl0ZW0udmFsdWUgPSBudWxsOwoJCX07CgoJCXJldHVybiB7CgkJCXByaWNlLAoJCQlhcnRJdGVtLAoJCQlvbkFydFNlbGVjdGlvbiwKCQkJYWRkQXJ0SXRlbQoJCX07Cgl9Cn07Cg=="},{"version":3,"sources":["/Users/arlav/Documents/GitHub/ArtToken/client/src/components/AddArtItem.vue"],"names":[],"mappings":"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","file":"/Users/arlav/Documents/GitHub/ArtToken/client/src/components/AddArtItem.vue","sourceRoot":"","sourcesContent":["<template>\n  <section class=\"add-art-item-container\">\n    <input type=\"number\" v-model=\"price\" placeholder=\"Price\" />\n    <label v-if=\"!artItem\" class=\"add-art-item-label\">\n      <input type=\"file\" accept=\"image/*\" @change=\"onArtSelection\" />\n      Add Art\n    </label>\n\n    <button v-else @click=\"addArtItem()\">\n      Publish\n    </button>\n  </section>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { parseEther } from \"ethers/lib/utils\";\n\nimport { UseIPFSClient } from \"@/plugins/ipfsHttpClient\";\nimport { UseEthers } from \"@/plugins/ethers\";\n\nexport default {\n\tsetup() {\n\t\tconst ethers = UseEthers();\n\t\tconst ipfs = UseIPFSClient();\n\n\t\tconst price = ref(null);\n\t\tconst artItem = ref(null);\n\n\t\tconst onArtSelection = () => {\n\t\t\tartItem.value = event.target.files[0];\n\t\t};\n\n\t\tconst addArtItem = async () => {\n\t\t\tconst { path } = await ipfs.add(artItem.value);\n\t\t\tif (!path) throw new Error(\"Failed to add art item to IPFS\");\n\n\t\t\tconst tokenURI = `https://ipfs.io/ipfs/${path}`;\n\t\t\tconst parsedPrice = parseEther(price.value.toString());\n\t\t\tawait ethers.addArtItem(parsedPrice, tokenURI);\n\n\t\t\t// clear input\n\t\t\tprice.value = null;\n\t\t\tartItem.value = null;\n\t\t};\n\n\t\treturn {\n\t\t\tprice,\n\t\t\tartItem,\n\t\t\tonArtSelection,\n\t\t\taddArtItem\n\t\t};\n\t}\n};\n</script>\n\n<style scoped>\n.add-art-item-container {\n  padding: 40px;\n}\n\n.add-art-item-container input {\n  padding: 10px;\n}\n\n.add-art-item-label {\n  background-color: #ee4540;\n  padding: 8px 12px;\n  cursor: pointer;\n  font-size: 1em;\n  font-weight: bold;\n  vertical-align: middle;\n}\n\ninput[type=\"file\"] {\n  display: none;\n}\n</style>\n"]}]}