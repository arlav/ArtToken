{"remainingRequest":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/arlav/Documents/GitHub/ArtToken/client/src/components/ArtItems/ForSale.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/src/components/ArtItems/ForSale.vue","mtime":1606670857953},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJlZiB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IGZvcm1hdEV0aGVyLCBwYXJzZUV0aGVyIH0gZnJvbSAiZXRoZXJzL2xpYi91dGlscyI7CgppbXBvcnQgeyBVc2VFdGhlcnMgfSBmcm9tICJAL3BsdWdpbnMvZXRoZXJzIjsKCmV4cG9ydCBkZWZhdWx0IHsKCWFzeW5jIHNldHVwKCkgewoJCWNvbnN0IGV0aGVycyA9IFVzZUV0aGVycygpOwoJCWNvbnN0IGFydEl0ZW1JZHMgPSBOdW1iZXIoYXdhaXQgZXRoZXJzLl9hcnRJdGVtSWRzKCkpOwoKCQljb25zdCBhcnRJdGVtcyA9IHJlZihbXSk7CgoJCWZvciAobGV0IGkgPSAxOyBpIDw9IGFydEl0ZW1JZHM7IGkrKykgewoJCQljb25zdCBbaWQsIHByaWNlSW5XZWksIHRva2VuVVJJXSA9IGF3YWl0IGV0aGVycy5nZXRBcnRJdGVtKGkpOwoJCQljb25zdCBwcmljZSA9IGZvcm1hdEV0aGVyKHByaWNlSW5XZWkpOwoKCQkJYXJ0SXRlbXMudmFsdWUucHVzaCh7CgkJCQlpZCwKCQkJCXByaWNlLAoJCQkJdG9rZW5VUkkKCQkJfSk7CgkJfQoKCQljb25zdCBwdXJjaGFzZSA9IGFzeW5jIChpZCwgcHJpY2UpID0+IHsKCQkJYXdhaXQgZXRoZXJzLnB1cmNoYXNlQXJ0SXRlbShpZCwgewoJCQkJdmFsdWU6IHBhcnNlRXRoZXIocHJpY2UudG9TdHJpbmcoKSkKCQkJfSk7CgkJfTsKCgkJcmV0dXJuIHsKCQkJYXJ0SXRlbXMsCgkJCXB1cmNoYXNlCgkJfTsKCX0KfTsK"},{"version":3,"sources":["/Users/arlav/Documents/GitHub/ArtToken/client/src/components/ArtItems/ForSale.vue"],"names":[],"mappings":"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","file":"/Users/arlav/Documents/GitHub/ArtToken/client/src/components/ArtItems/ForSale.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"container\">\n    <h2 class=\"title\">For Sale</h2>\n\n    <div class=\"flex art-item-list\">\n      <ul v-for=\"item in artItems\" :key=\"item\">\n        <li><img class=\"art-item\" :src=\"item.tokenURI\" alt=\"Art\" /></li>\n        <li class=\"price\">\n          Price: {{ item.price }} ETH\n          <button class=\"purchase-btn\" @click=\"purchase(item.id, item.price)\">\n            Purchase\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { formatEther, parseEther } from \"ethers/lib/utils\";\n\nimport { UseEthers } from \"@/plugins/ethers\";\n\nexport default {\n\tasync setup() {\n\t\tconst ethers = UseEthers();\n\t\tconst artItemIds = Number(await ethers._artItemIds());\n\n\t\tconst artItems = ref([]);\n\n\t\tfor (let i = 1; i <= artItemIds; i++) {\n\t\t\tconst [id, priceInWei, tokenURI] = await ethers.getArtItem(i);\n\t\t\tconst price = formatEther(priceInWei);\n\n\t\t\tartItems.value.push({\n\t\t\t\tid,\n\t\t\t\tprice,\n\t\t\t\ttokenURI\n\t\t\t});\n\t\t}\n\n\t\tconst purchase = async (id, price) => {\n\t\t\tawait ethers.purchaseArtItem(id, {\n\t\t\t\tvalue: parseEther(price.toString())\n\t\t\t});\n\t\t};\n\n\t\treturn {\n\t\t\tartItems,\n\t\t\tpurchase\n\t\t};\n\t}\n};\n</script>\n\n<style scoped>\n.container {\n  width: 100%;\n}\n\n.price {\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px;\n  text-align: center;\n  background-color: rgb(32, 32, 32);\n  margin-top: -5px;\n  font-weight: bold;\n  font-size: 1em;\n  padding: 10px;\n}\n\n.purchase-btn {\n  margin-left: 10px;\n  background-color: rgb(56, 128, 237);\n}\n</style>\n"]}]}