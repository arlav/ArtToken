{"remainingRequest":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/babel-loader/lib/index.js!/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/arlav/Documents/GitHub/ArtToken/client/src/components/ArtItems/ForSale.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/src/components/ArtItems/ForSale.vue","mtime":1606592072100},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL1VzZXJzL2FybGF2L0RvY3VtZW50cy9HaXRIdWIvQXJ0VG9rZW4vY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2FybGF2L0RvY3VtZW50cy9HaXRIdWIvQXJ0VG9rZW4vY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgcmVmIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgZm9ybWF0RXRoZXIsIHBhcnNlRXRoZXIgfSBmcm9tICJldGhlcnMvbGliL3V0aWxzIjsKaW1wb3J0IHsgVXNlRXRoZXJzIH0gZnJvbSAiQC9wbHVnaW5zL2V0aGVycyI7CmV4cG9ydCBkZWZhdWx0IHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGV0aGVycywgYXJ0SXRlbUlkcywgYXJ0SXRlbXMsIGksIF95aWVsZCRldGhlcnMkZ2V0QXJ0SSwgX3lpZWxkJGV0aGVycyRnZXRBcnRJMiwgaWQsIHByaWNlSW5XZWksIHRva2VuVVJJLCBwcmljZSwgcHVyY2hhc2U7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGV0aGVycyA9IFVzZUV0aGVycygpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IE51bWJlcjsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGV0aGVycy5fYXJ0SXRlbUlkcygpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGFydEl0ZW1JZHMgPSAoMCwgX2NvbnRleHQyLnQwKShfY29udGV4dDIudDEpOwogICAgICAgICAgICAgIGFydEl0ZW1zID0gcmVmKFtdKTsKICAgICAgICAgICAgICBpID0gMTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBpZiAoIShpIDw9IGFydEl0ZW1JZHMpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiBldGhlcnMuZ2V0QXJ0SXRlbShpKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX3lpZWxkJGV0aGVycyRnZXRBcnRJID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX3lpZWxkJGV0aGVycyRnZXRBcnRJMiA9IF9zbGljZWRUb0FycmF5KF95aWVsZCRldGhlcnMkZ2V0QXJ0SSwgMyk7CiAgICAgICAgICAgICAgaWQgPSBfeWllbGQkZXRoZXJzJGdldEFydEkyWzBdOwogICAgICAgICAgICAgIHByaWNlSW5XZWkgPSBfeWllbGQkZXRoZXJzJGdldEFydEkyWzFdOwogICAgICAgICAgICAgIHRva2VuVVJJID0gX3lpZWxkJGV0aGVycyRnZXRBcnRJMlsyXTsKICAgICAgICAgICAgICBwcmljZSA9IGZvcm1hdEV0aGVyKHByaWNlSW5XZWkpOwogICAgICAgICAgICAgIGFydEl0ZW1zLnZhbHVlLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlLAogICAgICAgICAgICAgICAgdG9rZW5VUkk6IHRva2VuVVJJCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIHB1cmNoYXNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGlkLCBwcmljZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV0aGVycy5wdXJjaGFzZUFydEl0ZW0oaWQsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYXJzZUV0aGVyKHByaWNlLnRvU3RyaW5nKCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBwdXJjaGFzZShfeCwgX3gyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKTsKCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIGFydEl0ZW1zOiBhcnRJdGVtcywKICAgICAgICAgICAgICAgIHB1cmNoYXNlOiBwdXJjaGFzZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/Users/arlav/Documents/GitHub/ArtToken/client/src/components/ArtItems/ForSale.vue"],"names":[],"mappings":";;;;;;AAmBA,SAAS,GAAT,QAAoB,KAApB;AACA,SAAS,WAAT,EAAsB,UAAtB,QAAwC,kBAAxC;AAEA,SAAS,SAAT,QAA0B,kBAA1B;AAEA,eAAe;AACR,EAAA,KADQ,mBACA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACP,cAAA,MADO,GACE,SAAS,EADX;AAAA,6BAEM,MAFN;AAAA;AAAA,qBAEmB,MAAM,CAAC,WAAP,EAFnB;;AAAA;AAAA;AAEP,cAAA,UAFO;AAIP,cAAA,QAJO,GAII,GAAG,CAAC,EAAD,CAJP;AAMJ,cAAA,CANI,GAMA,CANA;;AAAA;AAAA,oBAMG,CAAA,IAAK,UANR;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAO6B,MAAM,CAAC,UAAP,CAAkB,CAAlB,CAP7B;;AAAA;AAAA;AAAA;AAOL,cAAA,EAPK;AAOD,cAAA,UAPC;AAOW,cAAA,QAPX;AAQN,cAAA,KARM,GAQE,WAAW,CAAC,UAAD,CARb;AAUZ,cAAA,QAAQ,CAAC,KAAT,CAAe,IAAf,CAAoB;AACnB,gBAAA,EAAE,EAAF,EADmB;AAEnB,gBAAA,KAAK,EAAL,KAFmB;AAGnB,gBAAA,QAAO,EAAP;AAHmB,eAApB;;AAVY;AAMoB,cAAA,CAAC,EANrB;AAAA;AAAA;;AAAA;AAiBP,cAAA,QAjBO;AAAA,mFAiBI,iBAAO,EAAP,EAAW,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACV,MAAM,CAAC,eAAP,CAAuB,EAAvB,EAA2B;AAChC,4BAAA,KAAK,EAAE,UAAU,CAAC,KAAK,CAAC,QAAN,EAAD;AADe,2BAA3B,CADU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAjBJ;;AAAA,gCAiBP,QAjBO;AAAA;AAAA;AAAA;;AAAA,gDAuBN;AACN,gBAAA,QAAQ,EAAR,QADM;AAEN,gBAAA,QAAO,EAAP;AAFM,eAvBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2Bd;AA5Bc,CAAf","sourcesContent":["<template>\n  <div class=\"container\">\n    <h2 class=\"title\">For Sale</h2>\n\n    <div class=\"flex art-item-list\">\n      <ul v-for=\"item in artItems\" :key=\"item\">\n        <li><img class=\"art-item\" :src=\"item.tokenURI\" alt=\"Art\" /></li>\n        <li class=\"price\">\n          Price: {{ item.price }} ETH\n          <button class=\"purchase-btn\" @click=\"purchase(item.id, item.price)\">\n            Purchase\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { formatEther, parseEther } from \"ethers/lib/utils\";\n\nimport { UseEthers } from \"@/plugins/ethers\";\n\nexport default {\n\tasync setup() {\n\t\tconst ethers = UseEthers();\n\t\tconst artItemIds = Number(await ethers._artItemIds());\n\n\t\tconst artItems = ref([]);\n\n\t\tfor (let i = 1; i <= artItemIds; i++) {\n\t\t\tconst [id, priceInWei, tokenURI] = await ethers.getArtItem(i);\n\t\t\tconst price = formatEther(priceInWei);\n\n\t\t\tartItems.value.push({\n\t\t\t\tid,\n\t\t\t\tprice,\n\t\t\t\ttokenURI\n\t\t\t});\n\t\t}\n\n\t\tconst purchase = async (id, price) => {\n\t\t\tawait ethers.purchaseArtItem(id, {\n\t\t\t\tvalue: parseEther(price.toString())\n\t\t\t});\n\t\t};\n\n\t\treturn {\n\t\t\tartItems,\n\t\t\tpurchase\n\t\t};\n\t}\n};\n</script>\n\n<style scoped>\n.container {\n  width: 100%;\n}\n\n.price {\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px;\n  text-align: center;\n  background-color: rgb(32, 32, 32);\n  margin-top: -5px;\n  font-weight: bold;\n  font-size: 1em;\n  padding: 10px;\n}\n\n.purchase-btn {\n  margin-left: 10px;\n  background-color: rgb(22, 128, 57);\n}\n</style>\n"],"sourceRoot":""}]}