{"remainingRequest":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/babel-loader/lib/index.js!/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/arlav/Documents/GitHub/ArtToken/client/src/components/AddArtItem.vue?vue&type=template&id=f2cc6036&scoped=true&bindings={\"price\":\"setup\",\"artItem\":\"setup\",\"onArtSelection\":\"setup\",\"addArtItem\":\"setup\"}","dependencies":[{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/src/components/AddArtItem.vue","mtime":1606592072100},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtZjJjYzYwMzYiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LWYyY2M2MDM2Iik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImFkZC1hcnQtaXRlbS1jb250YWluZXIiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGtleTogMCwKICBjbGFzczogImFkZC1hcnQtaXRlbS1sYWJlbCIKfTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiBBZGQgQXJ0ICIpOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygic2VjdGlvbiIsIF9ob2lzdGVkXzEsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJudW1iZXIiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5wcmljZSA9ICRldmVudDsKICAgIH0pLAogICAgcGxhY2Vob2xkZXI6ICJQcmljZSIKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLnByaWNlXV0pLCAhJHNldHVwLmFydEl0ZW0gPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImxhYmVsIiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAiZmlsZSIsCiAgICBhY2NlcHQ6ICJpbWFnZS8qIiwKICAgIG9uQ2hhbmdlOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzZXR1cC5vbkFydFNlbGVjdGlvbi5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sIG51bGwsIDMyCiAgLyogSFlEUkFURV9FVkVOVFMgKi8KICApLCBfaG9pc3RlZF8zXSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJidXR0b24iLCB7CiAgICBrZXk6IDEsCiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5hZGRBcnRJdGVtKCk7CiAgICB9KQogIH0sICIgUHVibGlzaCAiKSldKTsKfSk7"},{"version":3,"sources":["/Users/arlav/Documents/GitHub/ArtToken/client/src/components/AddArtItem.vue"],"names":[],"mappings":";;;;;;;AACW,EAAA,KAAK,EAAC;;;;AAEU,EAAA,KAAK,EAAC;;;+CACoC,W;;;;;uBAHnE,YAAA,CAUU,SAVV,EAAA,UAAA,EAUU,C,gBATR,YAAA,CAA2D,OAA3D,EAA2D;AAApD,IAAA,IAAI,EAAC,QAA+C;;aAA7B,MAAA,CAAA,KAAA,GAAK,M;MAAwB;AAAtB,IAAA,WAAW,EAAC;AAAU,GAA3D,E,IAAA,E;;AAAA,G,iBAA8B,MAAA,CAAA,K,GAStB,E,CARM,MAAA,CAAA,O,kBAAd,YAAA,CAGQ,OAHR,EAAA,UAAA,EAGQ,CAFN,YAAA,CAA+D,OAA/D,EAA+D;AAAxD,IAAA,IAAI,EAAC,MAAmD;AAA5C,IAAA,MAAM,EAAC,SAAqC;AAA1B,IAAA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,cAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAAoB,GAA/D,E,IAAA,E;;AAAA,GAEM,E,UAAA,CAHR,C,mBAKA,YAAA,CAES,QAFT,EAES;UAAA;AAFO,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,MAAA,CAAA,UAAA,EAAF;AAAA,KAAA;AAEZ,GAFT,EAAqC,WAArC,C,CAGQ,CAVV,C","sourcesContent":["<template>\n  <section class=\"add-art-item-container\">\n    <input type=\"number\" v-model=\"price\" placeholder=\"Price\" />\n    <label v-if=\"!artItem\" class=\"add-art-item-label\">\n      <input type=\"file\" accept=\"image/*\" @change=\"onArtSelection\" />\n      Add Art\n    </label>\n\n    <button v-else @click=\"addArtItem()\">\n      Publish\n    </button>\n  </section>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport { parseEther } from \"ethers/lib/utils\";\n\nimport { UseIPFSClient } from \"@/plugins/ipfsHttpClient\";\nimport { UseEthers } from \"@/plugins/ethers\";\n\nexport default {\n\tsetup() {\n\t\tconst ethers = UseEthers();\n\t\tconst ipfs = UseIPFSClient();\n\n\t\tconst price = ref(null);\n\t\tconst artItem = ref(null);\n\n\t\tconst onArtSelection = () => {\n\t\t\tartItem.value = event.target.files[0];\n\t\t};\n\n\t\tconst addArtItem = async () => {\n\t\t\tconst { path } = await ipfs.add(artItem.value);\n\t\t\tif (!path) throw new Error(\"Failed to add art item to IPFS\");\n\n\t\t\tconst tokenURI = `https://ipfs.io/ipfs/${path}`;\n\t\t\tconst parsedPrice = parseEther(price.value.toString());\n\t\t\tawait ethers.addArtItem(parsedPrice, tokenURI);\n\n\t\t\t// clear input\n\t\t\tprice.value = null;\n\t\t\tartItem.value = null;\n\t\t};\n\n\t\treturn {\n\t\t\tprice,\n\t\t\tartItem,\n\t\t\tonArtSelection,\n\t\t\taddArtItem\n\t\t};\n\t}\n};\n</script>\n\n<style scoped>\n.add-art-item-container {\n  padding: 40px;\n}\n\n.add-art-item-container input {\n  padding: 10px;\n}\n\n.add-art-item-label {\n  background-color: #ee4540;\n  padding: 8px 12px;\n  cursor: pointer;\n  font-size: 1em;\n  font-weight: bold;\n  vertical-align: middle;\n}\n\ninput[type=\"file\"] {\n  display: none;\n}\n</style>\n"],"sourceRoot":""}]}