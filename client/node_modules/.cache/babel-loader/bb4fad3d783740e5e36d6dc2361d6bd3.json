{"remainingRequest":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/babel-loader/lib/index.js!/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/arlav/Documents/GitHub/ArtToken/client/src/view/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/src/view/Home.vue","mtime":1606592072101},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arlav/Documents/GitHub/ArtToken/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2FybGF2L0RvY3VtZW50cy9HaXRIdWIvQXJ0VG9rZW4vY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FybGF2L0RvY3VtZW50cy9HaXRIdWIvQXJ0VG9rZW4vY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgcmVmLCBwcm92aWRlIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgVXNlRXRoZXJzIH0gZnJvbSAiQC9wbHVnaW5zL2V0aGVycyI7CmltcG9ydCBDb21wb25lbnRzIGZyb20gIkAvY29tcG9uZW50cy9pbmRleCI7CmltcG9ydCB7IEFDQ09VTlRfSU5KRUNUSU9OX0tFWSB9IGZyb20gIi4vY29uc3RhbnRzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IF9vYmplY3RTcHJlYWQoe30sIENvbXBvbmVudHMpLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBhY2NvdW50ID0gcmVmKCIiKTsKICAgIHZhciBoYXNQYXltZW50ID0gcmVmKGZhbHNlKTsKICAgIHZhciBldGhlcnMgPSBVc2VFdGhlcnMoKTsKCiAgICB2YXIgY2hlY2tQYXltZW50cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gTnVtYmVyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZXRoZXJzLnBheW1lbnRzKGFjY291bnQudmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MiA9ICgwLCBfY29udGV4dC50MCkoX2NvbnRleHQudDEpOwogICAgICAgICAgICAgICAgaGFzUGF5bWVudC52YWx1ZSA9IF9jb250ZXh0LnQyID4gMDsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBjaGVja1BheW1lbnRzKCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIHdpdGhkcmF3UGF5bWVudHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZXRoZXJzLmdldFBheW1lbnRzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGhhc1BheW1lbnQudmFsdWUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHdpdGhkcmF3UGF5bWVudHMoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGNvbm5lY3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBldGhBY2NvdW50czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiZXRoX3JlcXVlc3RBY2NvdW50cyIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBldGhBY2NvdW50cyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgYWNjb3VudC52YWx1ZSA9IGV0aEFjY291bnRzWzBdOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gY29ubmVjdCgpIHsKICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBwcm92aWRlKEFDQ09VTlRfSU5KRUNUSU9OX0tFWSwgYWNjb3VudCk7CiAgICByZXR1cm4gewogICAgICBjb25uZWN0OiBjb25uZWN0LAogICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICBoYXNQYXltZW50OiBoYXNQYXltZW50LAogICAgICBjaGVja1BheW1lbnRzOiBjaGVja1BheW1lbnRzLAogICAgICB3aXRoZHJhd1BheW1lbnRzOiB3aXRoZHJhd1BheW1lbnRzCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["/Users/arlav/Documents/GitHub/ArtToken/client/src/view/Home.vue"],"names":[],"mappings":";;;;AAwBA,SAAS,GAAT,EAAc,OAAd,QAA6B,KAA7B;AAEA,SAAS,SAAT,QAA0B,kBAA1B;AACA,OAAO,UAAP,MAAuB,oBAAvB;AACA,SAAS,qBAAT,QAAsC,aAAtC;AAEA,eAAe;AACd,EAAA,UAAU,oBACN,UADM,CADI;AAKd,EAAA,KALc,mBAKN;AACP,QAAM,OAAM,GAAI,GAAG,CAAC,EAAD,CAAnB;AACA,QAAM,UAAS,GAAI,GAAG,CAAC,KAAD,CAAtB;AACA,QAAM,MAAK,GAAI,SAAS,EAAxB;;AAEA,QAAM,aAAY;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8BACF,MADE;AAAA;AAAA,uBACW,MAAM,CAAC,QAAP,CAAgB,OAAO,CAAC,KAAxB,CADX;;AAAA;AAAA;AAAA;AACrB,gBAAA,UAAU,CAAC,KADU,iBAC6C,CAD7C;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAZ,aAAY;AAAA;AAAA;AAAA,OAAlB;;AAIA,QAAM,gBAAe;AAAA,0EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAClB,MAAM,CAAC,WAAP,EADkB;;AAAA;AAExB,gBAAA,UAAU,CAAC,KAAX,GAAmB,KAAnB;;AAFwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAf,gBAAe;AAAA;AAAA;AAAA,OAArB;;AAKA,QAAM,OAAM;AAAA,0EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACW,MAAM,CAAC,QAAP,CAAgB,OAAhB,CAAwB;AACjD,kBAAA,MAAM,EAAE;AADyC,iBAAxB,CADX;;AAAA;AACT,gBAAA,WADS;AAKf,gBAAA,OAAO,CAAC,KAAR,GAAgB,WAAW,CAAC,CAAD,CAA3B;;AALe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAN,OAAM;AAAA;AAAA;AAAA,OAAZ;;AAQA,IAAA,OAAO,CAAC,qBAAD,EAAwB,OAAxB,CAAP;AAEA,WAAO;AACN,MAAA,OAAO,EAAP,OADM;AAEN,MAAA,OAAO,EAAP,OAFM;AAGN,MAAA,UAAU,EAAV,UAHM;AAIN,MAAA,aAAa,EAAb,aAJM;AAKN,MAAA,gBAAe,EAAf;AALM,KAAP;AAOD;AApCc,CAAf","sourcesContent":["<template>\n  <section class=\"flex home-container\">\n    <h1 class=\"title\">Buy Digital Art</h1>\n\n    <template class=\"flex\" v-if=\"account\">\n      <button v-if=\"!hasPayment\" @click=\"checkPayments()\">\n        Check for Payments\n      </button>\n\n      <button class=\"withdraw-btn\" v-else @click=\"withdrawPayments()\">\n        Withdraw Payments\n      </button>\n\n      <AddArtItem />\n      <ArtItems />\n    </template>\n\n    <button v-else class=\"connect-btn\" @click=\"connect()\">\n      Connect to App\n    </button>\n  </section>\n</template>\n\n<script>\nimport { ref, provide } from \"vue\";\n\nimport { UseEthers } from \"@/plugins/ethers\";\nimport Components from \"@/components/index\";\nimport { ACCOUNT_INJECTION_KEY } from \"./constants\";\n\nexport default {\n\tcomponents: {\n\t\t...Components\n\t},\n\n\tsetup() {\n\t\tconst account = ref(\"\");\n\t\tconst hasPayment = ref(false);\n\t\tconst ethers = UseEthers();\n\n\t\tconst checkPayments = async () => {\n\t\t\thasPayment.value = Number(await ethers.payments(account.value)) > 0;\n\t\t};\n\n\t\tconst withdrawPayments = async () => {\n\t\t\tawait ethers.getPayments();\n\t\t\thasPayment.value = false;\n\t\t};\n\n\t\tconst connect = async () => {\n\t\t\tconst ethAccounts = await window.ethereum.request({\n\t\t\t\tmethod: \"eth_requestAccounts\"\n\t\t\t});\n\n\t\t\taccount.value = ethAccounts[0];\n\t\t};\n\n\t\tprovide(ACCOUNT_INJECTION_KEY, account);\n\n\t\treturn {\n\t\t\tconnect,\n\t\t\taccount,\n\t\t\thasPayment,\n\t\t\tcheckPayments,\n\t\t\twithdrawPayments\n\t\t};\n\t}\n};\n</script>\n\n<style scoped>\n.home-container {\n  flex-direction: column;\n  align-items: center;\n}\n\n.title {\n  font-size: 5em;\n  margin: 0;\n  padding: 50px 0 20px 0;\n  font-family: \"Fredoka One\", sans-serif;\n}\n\n.connect-btn {\n  margin: 30px 0;\n}\n\n.withdraw-btn {\n  background-color: rgb(22, 128, 57);\n}\n</style>\n"],"sourceRoot":""}]}